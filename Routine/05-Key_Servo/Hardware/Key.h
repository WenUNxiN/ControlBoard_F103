#ifndef __KEY__H_
#define __KEY__H_

/* 引入系统头文件，内含 GPIO 及外设寄存器定义 */
#include "sys.h"

/* ------------------------------------------------------------------  
 * 与按键硬件连接对应的宏定义  
 * ------------------------------------------------------------------ */

/* 按键所用的 GPIO 端口时钟 */
#define KEY_GPIO_CLK    RCC_APB2Periph_GPIOB

/* 按键连接的 GPIO 端口 */
#define KEY_GPIO_PORT   GPIOB

/* 按键连接的具体引脚号 */
#define KEY_GPIO_PIN    GPIO_Pin_2

/* ------------------------------------------------------------------  
 * 按键逻辑电平宏定义  
 * ------------------------------------------------------------------ */

/* 表示“按键被按下”的返回值 */
#define KEY_PRESS    1

/* 表示“按键未按下/已释放”的返回值 */
#define KEY_RELEASE  0

/* ------------------------------------------------------------------  
 * 函数声明  
 * ------------------------------------------------------------------ */

/* 初始化按键 GPIO */
void Key_Init(void);

/* 非阻塞式扫描按键状态  
 * 返回值: KEY_PRESS   ― 检测到一次有效按键动作  
 *         KEY_RELEASE ― 当前无有效动作或按键已松开 */
u8 Key_Scan(void);

#endif /* __KEY__H_ */

